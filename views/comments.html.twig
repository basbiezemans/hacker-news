{% extends 'base.html.twig' %}

    {% block main %}
    
      <div class="panel panel-default">
        <div class="panel-body">
        
        <p>
          <strong><a href="{{ story.url }}">{{ story.title }}</a></strong><br>
          <small>
            {{ pluralize(story.score, '1 point', '%d points') }} by {{ story.username }} 
            {{ story.timestamp|time_diff }} | {{ pluralize(story.descendants, '1 comment', '%d comments') }}
          </small>
        </p>
        
        {% if story.content is not empty %}{{ story.content|raw }}{% endif %}
        
        {% for comment in comments %}
          <div class="pl-{{ comment.level }}">
            <hr>
            <div class="item-rank"><span class="glyphicon glyphicon-triangle-top" aria-hidden="true"></span></div>
            <div class="item-text">{{ comment.content|raw }}<br><small>{{ comment.username }} | {{ comment.timestamp|time_diff }}</small></div>
          </div>
        {% else %}
          No comments have been found.
        {% endfor %}
        
        </div>
      </div>
      
    {% endblock %}